/*! For license information please see 624.dea7966b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkwagehire_frontend=self.webpackChunkwagehire_frontend||[]).push([[624],{2624:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var a=t(5043),r=t(5475),i=t(5016),d=t(9621),l=t(7463),c=t(4537),n=t(9742),x=t(8646),m=t(4319),h=t(5088),o=t(5087),y=t(2489),p=t(9855),u=t(254),j=t(7118),g=t(9875),v=t(579);const w=()=>{const{isAdmin:e}=(0,i.A)(),[s,t]=(0,a.useState)(null),[w,f]=(0,a.useState)([]),[N,b]=(0,a.useState)([]),[A,k]=(0,a.useState)([]),[C,_]=(0,a.useState)(!0),[S,M]=(0,a.useState)("overview");(0,a.useEffect)(()=>{if(!e())return;(async()=>{try{const[e,s,a,r]=await Promise.all([d.Ay.get("/admin/dashboard"),d.Ay.get("/admin/users"),d.Ay.get("/admin/candidates"),d.Ay.get("/admin/interviews?limit=5")]);t(e.data.stats),f(s.data.users),b(a.data.candidates),k(r.data.interviews)}catch(e){console.error("Error fetching admin data:",e)}finally{_(!1)}})()},[e]);const I=e=>{switch(e){case"completed":return(0,v.jsx)(m.A,{className:"w-4 h-4 text-success-600"});case"cancelled":return(0,v.jsx)(g.A,{className:"w-4 h-4 text-danger-600"});case"scheduled":return(0,v.jsx)(h.A,{className:"w-4 h-4 text-primary-600"});default:return(0,v.jsx)(c.A,{className:"w-4 h-4 text-warning-600"})}},U=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"scheduled":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}};return e()?C?(0,v.jsx)(l.A,{message:"Loading admin panel...",icon:y.A}):(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)("div",{className:"bg-white rounded-xl shadow-lg border-0 p-8",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Panel"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Manage your interview system and oversee all activities"})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(y.A,{className:"w-8 h-8 text-primary-600"}),(0,v.jsx)("span",{className:"text-sm font-medium text-primary-600",children:"Administrator"})]})]})}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,v.jsx)("div",{className:"bg-white rounded-xl shadow-lg border-0 p-6",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Users"}),(0,v.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===s||void 0===s?void 0:s.totalUsers)||0})]}),(0,v.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:(0,v.jsx)(j.A,{className:"w-5 h-5 text-white"})})]})}),(0,v.jsx)("div",{className:"bg-white rounded-xl shadow-lg border-0 p-6",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Candidates"}),(0,v.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===s||void 0===s?void 0:s.totalCandidates)||0})]}),(0,v.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:(0,v.jsx)(u.A,{className:"w-5 h-5 text-white"})})]})}),(0,v.jsx)("div",{className:"bg-white rounded-xl shadow-lg border-0 p-6",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Interviews"}),(0,v.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===s||void 0===s?void 0:s.totalInterviews)||0})]}),(0,v.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,v.jsx)(x.A,{className:"w-5 h-5 text-white"})})]})}),(0,v.jsx)("div",{className:"bg-white rounded-xl shadow-lg border-0 p-6",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Recent Activity"}),(0,v.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===A||void 0===A?void 0:A.length)||0})]}),(0,v.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:(0,v.jsx)(c.A,{className:"w-5 h-5 text-white"})})]})})]}),(0,v.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border-0",children:[(0,v.jsx)("div",{className:"border-b border-gray-200",children:(0,v.jsx)("nav",{className:"flex space-x-8 px-8",children:[{id:"overview",name:"Overview",icon:n.A},{id:"users",name:"Users",icon:j.A},{id:"candidates",name:"Candidates",icon:u.A},{id:"interviews",name:"Interviews",icon:x.A}].map(e=>{const s=e.icon;return(0,v.jsxs)("button",{onClick:()=>M(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm "+(S===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,v.jsx)(s,{className:"w-4 h-4"}),(0,v.jsx)("span",{children:e.name})]},e.id)})})}),(0,v.jsxs)("div",{className:"p-8",children:["overview"===S&&(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"System Overview"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Interviews"}),(0,v.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,v.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[I(e.status),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-medium text-gray-900",children:e.candidate_name}),(0,v.jsxs)("p",{className:"text-sm text-gray-600",children:["Interviewer: ",e.interviewer_name]})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${U(e.status)}`,children:e.status}),(0,v.jsx)(r.N_,{to:`/interviews/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details"})]})]},e.id))})]})]}),"users"===S&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Manage Users"}),(0,v.jsxs)("span",{className:"text-sm text-gray-600",children:[w.length," total users"]})]}),(0,v.jsx)("div",{className:"overflow-x-auto",children:(0,v.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,v.jsx)("thead",{className:"bg-gray-50",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,v.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,v.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsxs)("select",{value:e.role,onChange:s=>(async(e,s)=>{try{await d.Ay.put(`/admin/users/${e}/role`,{role:s}),f(w.map(t=>t.id===e?{...t,role:s}:t)),alert("User role updated successfully")}catch(t){console.error("Error updating user role:",t),alert("Failed to update user role")}})(e.id,s.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[(0,v.jsx)("option",{value:"user",children:"User"}),(0,v.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,v.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await d.Ay.delete(`/admin/users/${e}`),f(w.filter(s=>s.id!==e)),alert("User deleted successfully")}catch(s){console.error("Error deleting user:",s),alert("Failed to delete user")}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,v.jsx)(p.A,{className:"w-4 h-4"})})})]},e.id))})]})})]}),"candidates"===S&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"All Candidates"}),(0,v.jsxs)("span",{className:"text-sm text-gray-600",children:[N.length," total candidates"]})]}),(0,v.jsx)("div",{className:"overflow-x-auto",children:(0,v.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,v.jsx)("thead",{className:"bg-gray-50",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interviews"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,v.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,v.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${U(e.status)}`,children:e.status})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.created_by_name||"System"}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.interview_count||0}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,v.jsx)(r.N_,{to:`/candidates/${e.id}`,className:"text-primary-600 hover:text-primary-700",children:(0,v.jsx)(o.A,{className:"w-4 h-4"})})})]},e.id))})]})})]}),"interviews"===S&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"All Interviews"}),(0,v.jsxs)(r.N_,{to:"/interviews",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700",children:[(0,v.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"View All Interviews"]})]}),(0,v.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,v.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[I(e.status),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-medium text-gray-900",children:e.candidate_name}),(0,v.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date(e.scheduled_date).toLocaleDateString()," at"," ",new Date(e.scheduled_date).toLocaleTimeString()]})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${U(e.status)}`,children:e.status}),(0,v.jsxs)("p",{className:"text-sm text-gray-600",children:["Interviewer: ",e.interviewer_name]}),(0,v.jsx)(r.N_,{to:`/interviews/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details"})]})]},e.id))})]})]})]})]}):(0,v.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)(y.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,v.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,v.jsx)("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})})}},4319:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4537:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},5087:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5088:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7118:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8646:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},9855:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9875:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}}]);
//# sourceMappingURL=624.dea7966b.chunk.js.map