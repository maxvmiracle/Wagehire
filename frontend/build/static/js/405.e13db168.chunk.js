/*! For license information please see 405.e13db168.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkwagehire_frontend=self.webpackChunkwagehire_frontend||[]).push([[405],{1405:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var a=t(5043),r=t(5475),s=t(3216),l=t(4319),n=t(9875),o=t(5327),c=t(5692);const d=(0,t(1639).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var u=t(3768),h=t(9621),m=t(7463),x=t(579);const g=()=>{const[e]=(0,r.ok)(),i=(0,s.Zp)(),t=(0,s.zy)(),[g,f]=(0,a.useState)("verifying"),[y,b]=(0,a.useState)(""),[v,p]=(0,a.useState)(""),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1),[A,V]=(0,a.useState)(""),[C,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var a;if(null!==(a=t.state)&&void 0!==a&&a.email)return p(t.state.email),f("pending"),b(t.state.message||"Please check your email to verify your account."),void(t.state.manualVerification&&t.state.verificationUrl&&(b(t.state.message+" You can also click the verification link below."),N(!0),V(t.state.verificationUrl)));(async()=>{const t=e.get("token");if(!t)return f("error"),void b("Invalid verification link. Please check your email and try again.");try{const e=await h.Ay.get(`/auth/verify-email?token=${t}`);f("success"),b(e.data.message),u.oR.success("Email verified successfully!"),setTimeout(()=>{i("/login")},3e3)}catch(s){var a,r;f("error");const e=(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Email verification failed. Please try again.";b(e),u.oR.error(e)}})()},[e,i,t.state]);return(0,x.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,x.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsxs)("div",{className:"wagehire-logo justify-center mb-6",children:[(0,x.jsx)("div",{className:"wagehire-logo-icon",children:(0,x.jsx)(o.A,{className:"h-8 w-8 text-white"})}),(0,x.jsx)("span",{className:"wagehire-logo-text text-2xl",children:"Wagehire"})]}),(0,x.jsx)("div",{className:"flex justify-center mb-6",children:(()=>{switch(g){case"success":return(0,x.jsx)(l.A,{className:"w-16 h-16 text-green-500"});case"error":return(0,x.jsx)(n.A,{className:"w-16 h-16 text-red-500"});case"pending":return(0,x.jsx)(o.A,{className:"w-16 h-16 text-blue-500"});default:return(0,x.jsx)(o.A,{className:"w-16 h-16 text-blue-500 animate-pulse"})}})()}),(0,x.jsx)("h2",{className:`text-3xl font-bold ${(()=>{switch(g){case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-blue-600"}})()} mb-4`,children:(()=>{switch(g){case"success":return"Email Verified Successfully!";case"error":return"Verification Failed";case"pending":return"Check Your Email";default:return"Verifying Your Email..."}})()}),(0,x.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:y}),"success"===g&&(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,x.jsx)("p",{className:"text-green-800 text-sm",children:"Your email has been verified successfully. You can now log in to your account."})}),(0,x.jsxs)("button",{onClick:()=>i("/login"),className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors duration-300 flex items-center justify-center",children:["Go to Login",(0,x.jsx)(c.A,{className:"w-4 h-4 ml-2"})]})]}),"pending"===g&&(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,x.jsxs)("p",{className:"text-blue-800 text-sm",children:["We've sent a verification email to ",(0,x.jsx)("strong",{children:v}),". Please check your inbox and click the verification link to activate your account."]})}),k&&A&&(0,x.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,x.jsxs)("p",{className:"text-yellow-800 text-sm mb-3",children:[(0,x.jsx)("strong",{children:"Manual Verification:"})," If you didn't receive the email, you can verify your account using the link below:"]}),(0,x.jsx)("a",{href:A,className:"inline-block bg-yellow-600 text-white py-2 px-4 rounded text-sm font-semibold hover:bg-yellow-700 transition-colors duration-300",children:"Verify Email Manually"})]}),C&&(0,x.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,x.jsxs)("p",{className:"text-green-800 text-sm mb-3",children:[(0,x.jsx)("strong",{children:"Manual Verification Link Generated!"})," Click the link below to verify your email:"]}),(0,x.jsx)("a",{href:A,className:"inline-block bg-green-600 text-white py-2 px-4 rounded text-sm font-semibold hover:bg-green-700 transition-colors duration-300",children:"Verify Email Now"}),(0,x.jsx)("p",{className:"text-green-700 text-xs mt-2",children:"This link will expire in 24 hours."})]}),(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsxs)("button",{onClick:async()=>{if(v){j(!0);try{const e=await h.Ay.post("/auth/resend-verification",{email:v});e.data.manualVerification&&e.data.verificationUrl?(u.oR.success("Please use the verification link below to confirm your account."),N(!0),V(e.data.verificationUrl),b(e.data.message||"Please use the verification link below to confirm your account.")):u.oR.error("Failed to generate verification link. Please try again later.")}catch(t){var e,i;const a=(null===(e=t.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.error)||"Failed to resend verification email";u.oR.error(a)}finally{j(!1)}}else u.oR.error("Email address not available")},disabled:w,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-300 flex items-center justify-center disabled:opacity-50",children:[w?(0,x.jsx)(d,{className:"w-4 h-4 mr-2 animate-spin"}):(0,x.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]}),(0,x.jsx)("button",{onClick:async()=>{if(v)try{const e=await h.Ay.get(`/auth/manual-verification/${v}`);N(!0),V(e.data.verificationUrl),M(!0),u.oR.success("Manual verification link generated!")}catch(t){var e,i;const a=(null===(e=t.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.error)||"Failed to get manual verification link";u.oR.error(a)}else u.oR.error("Email address not available")},className:"w-full bg-yellow-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-yellow-700 transition-colors duration-300 flex items-center justify-center",children:"Get Manual Verification Link"}),(0,x.jsx)("button",{onClick:()=>i("/login"),className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-700 transition-colors duration-300",children:"Go to Login"})]})]}),"error"===g&&(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,x.jsx)("p",{className:"text-red-800 text-sm",children:"The verification link may have expired or is invalid. Please check your email for a new verification link or contact support."})}),k&&A&&(0,x.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,x.jsxs)("p",{className:"text-yellow-800 text-sm mb-3",children:[(0,x.jsx)("strong",{children:"Manual Verification:"})," You can verify your account using the link below:"]}),(0,x.jsx)("a",{href:A,className:"inline-block bg-yellow-600 text-white py-2 px-4 rounded text-sm font-semibold hover:bg-yellow-700 transition-colors duration-300",children:"Verify Email Manually"})]}),(0,x.jsxs)("div",{className:"flex space-x-3",children:[(0,x.jsx)("button",{onClick:()=>i("/login"),className:"flex-1 bg-gray-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-700 transition-colors duration-300",children:"Go to Login"}),(0,x.jsx)("button",{onClick:()=>i("/register"),className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-300",children:"Register Again"})]})]}),"verifying"===g&&(0,x.jsx)(m.A,{message:"Verifying your email...",icon:o.A})]})})})}},4319:(e,i,t)=>{t.d(i,{A:()=>a});const a=(0,t(1639).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5327:(e,i,t)=>{t.d(i,{A:()=>a});const a=(0,t(1639).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5692:(e,i,t)=>{t.d(i,{A:()=>a});const a=(0,t(1639).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},9875:(e,i,t)=>{t.d(i,{A:()=>a});const a=(0,t(1639).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}}]);
//# sourceMappingURL=405.e13db168.chunk.js.map